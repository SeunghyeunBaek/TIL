#  네이버 영화 140자평 크롤링



- 평점이 높은 영화(보헤미안 랩소디) 평점이 낮은 영화(인랑) 댓글을 크롤링 한다.

## 1 . 웹페이지에서 확인해야 하는 정보

- 댓글 개수 확인: 캡틴마블(30092건)
- 총 몇 페이지를 탐색해야 하는지 확인 : 첫 페이지에서 마지막 페이지 번호가 몇번인지를 확인해야한다.
  - 페이지당 댓글이 10개가 있다 -> 대략 300페이지
- 아이디를 확인할 수 있으면 추천시스템을 만들 수 있다.
- 프레임 소스보기가 있다
  - 페이지 소스보기를 통해 iframe 태그를 찾는다.
  - iframe scr 속성의 값(요청할 주소)을 클릭해본다.
    - 우클릭 해서 프레임 소스보기가 있다을 경우 위 과정을 반복한다.
    - iframe은 웹페이지에서 동작 속도가 느려서 중첩된 경우가 거의 없다.
    - 클릭했을 때 나온 페이지에 원하는 정보가 있다면 크롤링을 시작한다.
    - 정보가 없다면 Selenium 을 써야한다.
- 가장 위에있는 정보를 페이지 소스에서 찾고, 태그를 확인한다.
  - list 정보는 보통 ul>li 태그로 묶여있다.
    - li 태그로 묶여있다면 ul 태그를 찾는다.
    - li 태그로 묶여있지 않다면 div 태그를 찾는다
      - div score_result 태그를 모두 가져온다.
    - id 와 class 를 확인해서 html 문서에 몇개 있는지 확인한다.
- *항상 한 단계가 끝나면 데이터를 저장한다*

## 2.크롤링

- url 구조(p 27)
  - 프로토콜 :// 주소 or ip:포트번호/리소스경로?쿼리스트링
    - 프로토콜 : 약속, 데이터를 주고받는 순서와 의미(http:// , https://)
    - 주소 : 컴퓨터(서버)를 찾는다.
    - 포트 : 서버 안의 프로그램을 찾는다. 서버 프로그램을 실행할 때 개발자가 지정한다. 개발자가 정한 포트번호를 모르면 프로그램을 쓸 수 없다. 웹서버는 80번을 기본포트로 하기에 생략가능하다.
    - 리소스경로 : 하위경로(폴더)
    - **쿼리스트링** : 클라이언트가 서버로 보내는 데이터
    - 헤더바디 : 주소창에는 안보인다.
- 데이터 프레임을 저장할 때 크롤링 데이터가 많으면 메모리가 꽉 찰 수 있다.
  - iteration 마다 저장
  - 메모리 큰 컴퓨터 쓴다

